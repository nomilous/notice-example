// Generated by CoffeeScript 1.6.3
var Client, MessageBus, tools;

MessageBus = require('./server/message_bus').MessageBus;

Client = require('dinkum').Client;

tools = require('notice').tools;

exports.start = function(callback) {
  return MessageBus.create({
    title: 'Message Bus Title',
    uuid: 1,
    listen: {
      secret: 'âˆ†',
      adaptor: 'socket.io',
      port: 10001
    },
    ticks: {
      one: {}
    },
    cache: {},
    tools: {
      "class": new tools.NoticeableClass
    }
  }, function(error, hub) {
    if (error != null) {
      return callback(error);
    }
    hub.use({
      title: 'test'
    }, function(next, capsule, traversal) {
      console.log(capsule.$$all);
      return next();
    });
    return callback(null, hub);
  });
};
